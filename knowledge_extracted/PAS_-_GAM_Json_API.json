{
  "metadata": {
    "filename": "PAS - GAM Json API.pdf",
    "total_pages": 66,
    "size_bytes": 841074,
    "size_mb": 0.8
  },
  "chunks": [
    {
      "chunk_id": 1,
      "pages": "1-10",
      "content": "--- Page 1 ---\n \n \n \n \n \n \n \nOverview of JSON -RPC  API for  \nG.hn Access Multiplexer (GAM)  \n \n \nJanuary 2021 \n  \n\n\n--- Page 2 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  2 Document 180 -0214-001 R0 3 Publication Information  \n \n©2021 Positron Access Solutions  \n \nOverview of JSON -RPC API for GAM (G.hn Access Multiplexer)  \n \n \nPublication date:  January 2021 \n \nPrinted in Canada  \n \nPublished By  \nPositron Access Solutions  \n5101 Buchan Street, Suite 220  \nMontreal, Quebec, Canada  \nH4P 2R9 \nTelephone US and Canada: 1 -888-577-5254  \nInternational: +1-514-345-2220  \n \nProduct names, other than Positron's, mentioned herein may be trademarks and/or registered trademarks \ntheir respective companies.  \n \n \nDisclaimer Notice  \nAlthough Positron Access Solutions  has made every effort to ensure the accuracy of the information \ncontained herein, this document is subject to change.      \n\n--- Page 3 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  3 Document 180 -0214-001 R0 3 CONTENTS  \n \nChapter 1  ................................ ................................ ................................ ................................ ... 5 \nAbout the GAM  ................................ ................................ ................................ ..........................  5 \n1.1 Introduction  ................................ ................................ ................................ ...................  6 \nChapter 2  ................................ ................................ ................................ ................................ ... 7 \nOverview of the JSON -RPC API ................................ ................................ ................................  7 \n2.1 Configuring a G.hn Service  ................................ ................................ ...........................  8 \n2.1.1  Selection G.hn Global Operating Mode (Port Aware or Endpoint Aware)  ..................  9 \n2.1.2  G.hn Port  ................................ ................................ ................................ ...............  11 \n2.1.3  Bandwidth Profiles (Bandwidth Plans)  ................................ ................................ .... 11 \n2.1.4  Endpoint Devices (G.hn Bridge) – Endpoint Aware mode  ................................ ....... 12 \n2.1.5  Subscribers  ................................ ................................ ................................ ...........  14 \n2.2 Managing VLANs on the uplink.  ................................ ................................ ..................  16 \n2.3 DHCP Snooping / Option -82 ................................ ................................ .......................  21 \n2.4 PPPoE Intermediate Agent  ................................ ................................ .........................  24 \nChapter 3  ................................ ................................ ................................ ................................ . 26 \nOverview of the JSON -RPC API ................................ ................................ ..............................  26 \n3.1 Overview of the GAMJSON -RPC API  ................................ ................................ .........  27 \n3.1.1  Retrieving the JSON Contract from the GAM  ................................ .........................  28 \n3.2 Committing provisioning changes to the GAM  ................................ .............................  28 \n3.3 Managing GAM Global Settings  ................................ ................................ ..................  28 \n3.3.1  ghnAgent.config.global.get  ................................ ................................ .....................  29 \n3.3.2  ghnAgent.config.global.set  ................................ ................................ .....................  29 \n3.4 Managing GAM Bandwidth Profiles  ................................ ................................ .............  30 \n3.4.1  ghnAgent.config.bwProfileByName.add  ................................ ................................ . 31 \n3.4.2  ghnAgent.config.bwProfileByName.get  ................................ ................................ .. 31 \n3.4.3  ghnAgent.config.bwProfileByName.set ................................ ................................ ... 33 \n3.4.4  ghnAgent.config.bwProfileByName.del ................................ ................................ ... 33 \n3.5 Managing GAM Subscriber Profiles ................................ ................................ .............  34 \n3.5.1  ghnAgent.config.userByName.add  ................................ ................................ .........  37 \n3.5.2  ghnAgent.config.userByName.get  ................................ ................................ ..........  37 \n3.5.3  ghnAgent.config.userByName.set  ................................ ................................ ..........  38 \n3.5.4  ghnAgent.config.userByName.del  ................................ ................................ ..........  39 \n3.6 Managing GAM Endpoint Devices  ................................ ................................ ...............  39 \n3.6.1  ghnAgent.config.endpoint ByName .add ................................ ................................ .. 41 \n3.6.2  ghnAgent.config.endpoint ByName .get ................................ ................................ ... 41 \n3.6.3  ghnAgent.config.endpoint ByName .set................................ ................................ .... 42 \n3.6.4  ghnAgent.config.endpoint ByName .del................................ ................................ .... 43 \n3.6.5  Retrieving detected but quarantined Endpoint devices  ................................ ...........  43 \n3.7 PORT METHODS  ................................ ................................ ................................ ....... 47 \n3.7.1  ghnAgent.c onfig.port.get  ................................ ................................ ........................  48 \n3.7.2  ghnAgent.config.port.set  ................................ ................................ ........................  49 \n3.8 JSON -RPC API ERROR MESSAGES ................................ ................................ .........  50 \nChapter 4  ................................ ................................ ................................ ................................ . 58 \nSample JSON Script – POR T AWARE mode  ................................ ................................ ..........  58 \n\n--- Page 4 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  4 Document 180 -0214-001 R0 3 4.1 JSON -RPC API Example: Port -Aware  ................................ ................................ .........  59 \nChapter 5  ................................ ................................ ................................ ................................ . 65 \nWarranty and Customer Se rvice  ................................ ................................ ............................  65 \n \n \nTable of Figures  \n \nFIGURE 1: SERVICE CONFIGURATION – ENDPOINT AWARE MODE ................................ ................................ ...............  8 \nFIGURE 2: ASSIGNING A SUBSCRIBER TO A G.HN ENDPOINT  ................................ ................................ ......................  8 \nFIGURE 3: ASSIGNING A SUBSCRIBER TO A G.HN PORT – PORT AWARE MODE................................ ...............................  8 \nFIGURE 4: SELECTING THE G.HN GLOBAL OPERATING MODE: PORT-AWARE OR ENDPOINT -AWARE  ................................ ... 9 \nFIGURE 5: CONFIGURING & MANAGING BANDWIDTH PLANS ................................ ................................ .................  12 \nFIGURE 6: ADDING A BANDWIDTH PLAN ................................ ................................ ................................ ...........  12 \nFIGURE 7: MANAGING ENDPOINT DEVICES ................................ ................................ ................................ .........  13 \nFIGURE 8: ADDING AN ENDPOINT DEVICE  ................................ ................................ ................................ ..........  13 \nFIGURE 9: MANAGING SUBSCRIBERS  ................................ ................................ ................................ ................  14 \nFIGURE 10: ADDING SUBSCRIBERS  ................................ ................................ ................................ ...................  15 \nFIGURE 11: GLOBAL VLAN  CONFIGURATION TABLE  ................................ ................................ .............................  17 \nFIGURE 12: MANAGING DHCP  OPTION 82 ................................ ................................ ................................ .......  22 \nFIGURE 13: BASIC DHCP  RELAY CONFIGURATION SETTINGS  ................................ ................................ ..................  24 \nFIGURE 14: BASIC PPP OE INTERMEDIATE AGENT CONFIGURATION SETTINGS  ................................ ............................  25 \n \n  \n\n--- Page 5 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  5 Document 180 -0214-001 R0 3 Chapter 1   \n______________________________________  \nAbout the GAM  \n \n\n--- Page 6 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  6 Document 180 -0214-001 R0 3 1.1 Introduction  \nThe GAM is a Fiber to the Distribution Point (FTTDp) solution typically installed \ninside a wiring closet. Each GAM comes with  either one  (1) or two (2) 10 Gigabit \nSFP+ interfaces to support any type of fiber or PON standards (using an SFP-\nbased or external ONT as required  that is compatible with the OLT ). These SFP+ \nports can further support additional GAM devices in medium to large MDUs and \nshare  the fiber backhaul link.  \nThe GAM provides extensive support for provisioning via a JSON -RPC  API in \naddition to the WEB GUI and Command Line Interface (CLI) methods.  \nChapter 2 provides an overview of the GAM settings typically provisioned from a \ncentralize d provisioning system.  \nChapter 3 covers the more widely used G.hn provisioning methods for Bandwidth \nProfiles, Subscriber Profiles and Endpoint management.  \nChapter 4 provides an example of how the JSON -RPC API of the Positron GAM is \nused to provision bandw idth and subscriber profiles.  \n  \n\n--- Page 7 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  7 Document 180 -0214-001 R0 3 Chapter 2   \n______________________________________  \nOverview of the JSON -RPC API  \n \n  \n\n--- Page 8 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  8 Document 180 -0214-001 R0 3 2.1 Configuring a G.hn Service  \nWhen operating in “Endpoint Aware” mode, a  G.hn service consists  of an \nassociation of a subscriber, a bandwidth plan, an endpoint,  and a Client VLAN  \n(CVLAN) .  If an association is missing, user traffic will not work.  \n \nFigure 1: Service Configuration  – Endpoint Aware mode  \nWhen set to Endpoint -aware mode and u pon detecting an Endpoint on a port \nwhere it does not match an associated Subscriber, the GAM will automatically \nassign VLAN 4094 used to force redirection toward a Self -Care Captive Portal \nattached to the GAM.  \nBy default, a subscriber is as signed to a specific Endpoint (G.hn bridge to \nEthernet)  \n \nFigure 2: Assigning a subscriber to a G.hn endpoint  \nAs of version 1.4, the GAM now supports “Port Aware” mode .  It is now \npossible to assign a subscriber to a G.hn port and dynamically associate the \nendpoint detected on the G.hn port to the subscriber profile.  This mode of \noperation is limited to operation over copper (telephone) pairs in MIMO or SISO.  \n \nFigure 3: Assigning a subscriber to a G.hn  port – Port Aware Mode  \nIMPORTANT NOTE: When operating over a point to multipoint COAX \ninfrastructure, a subscriber is always assigned to a specific endpoint since there \ncan be up to sixteen (16) subscribers per coax port.  \n \n\n\n--- Page 9 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  9 Document 180 -0214-001 R0 3 2.1.1  Selection G.hn Global Operating Mode (Port Aware or Endpoint Aware)  \n \nFigure 4: Selecting the G.hn Global Operating Mode: Port -Aware or Endpoint -Aware  \nSelect the default uplink (NNI) Port used for double -tagged (Q -in-Q) subscriber \ntraffic.  This can be overridden in the Subscriber Profile settings (if required).  \nSelect between Endpoint -Aware  and Port-Aware  and then click on the SAVE \nbutton to activate the selected mode.  \nEndpoint -Aware (default mode):  Each subscriber is assigned an endpoint (the \nendpoint 'belongs' to a specific subscriber). The endpoints in turn are bound to a \nspecific G.hn port. That is, you have endpoints belonging to specific subscribers, \nand bound to specific ports. That is the leg acy mode.  In this mode, if you have an \nendpoint that is located on a different port than the one where it is detected, it will \nbe put on hold (quarantined) and will not carry service. That is, the endpoint is \nassigned to one and only one port. This is use ful for example in buildings with pre -\ninstalled endpoints. In that case, you assign which subscriber is bound to which \nendpoint.  The process is as follows:  \n• Configure an endpoint  \n• Bind the endpoint to a specific port (the endpoint MAC address will be \nlocked  to that specific port)  \n• Configure a Subscriber and assign it to an endpoint.  \nPort-Aware:  Each subscriber is assigned to a specific G.hn port. In this mode, the \nsubscribers are not tied to any specific endpoints. This makes it possible to swap \nany endpoints , or even send a new or replacement endpoint to a subscriber without \npreviously requiring the endpoint to be defined and configured. In this mode, the \nendpoints are not assigned to any ports. Instead, service will be given to the \nsubscriber as soon as an e ndpoint is connected to a port that is assigned to a \nsubscriber.  In this mode, the endpoints are 'floating' resources, not tied to any \nspecific subscriber. The subscribers are bound directly to a specific G.hn port. The \n\n\n--- Page 10 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  10 Document 180 -0214-001 R0 3 subscribers are NOT configured to u se a specific endpoint. This mode is useful in \nsituations where the endpoint for a subscriber is not yet known. Upon installation \nof an Endpoint on the G.hn port assigned as part of a subscriber profile, the G.hn \nlink will go up and the endpoint will autom atically be added to the subscriber profile. \nThis means that when a subscriber is configured and assigned to a specific port, \nthen any CPE will automatically be added to the configuration upon being detected \non the subscriber's port (be it a new installati on or a replacement CPE). The \nendpoint will automatically be configured in the system with a default name the first \ntime it is detected on the system.  The process is as follows:  \n• Configure a subscriber and assign it to a port  \n• Service flows as soon as the s ubscriber installs an endpoint on the assigned \nG.hn port.  \nIMPORTANT -NOTE: Changing between the two modes of operation is \nadvised only when configuring a GAM device for the first time since these \ntwo modes use different configuration paradigms.  Should you  decide to \nchange the mode for a GAM with existing subscriber profiles, it will try to find an \n'intelligent' match for the new configuration that is as close as possible with the old \nconfiguration. It may be possible for this change to be somewhat transpar ent, \ndepending on the previous configuration. The following behavior is applied when \nchanging the operating mode:  \n2.1.1.1  Changing from Endpoint -Aware to Port -Aware mode  \nFor each subscriber that is assigned to a specific endpoint, which in turn is \nassigned to a sp ecific port (whether the endpoint was present or not on that port), \nthe GAM will update the subscriber profile and will assign the current port serving \nthe customer and will maintain the association with the G.hn endpoint.  For each \nother subscribers (whet her they are tied to a specific endpoint not already assigned \nto a specific port, or not yet assigned to a specific endpoint): the GAM will set the \nport number to “unassigned” in the subscriber profile.  A previously configured \nendpoint is unassigned from its previous port and from its previous subscribers.  It \nbecomes a 'floating' resource, not tied to any specific port or subscriber.  This \nmeans that an endpoint present on the customer assigned port will start carrying \nservice immediately for this subscri ber.  In the other cases, where you have a \nsubscriber with no endpoint assigned or if the endpoint is not assigned to a specific \nport, an operator intervention will be required to assign the subscriber to its port.  \n"
    },
    {
      "chunk_id": 2,
      "pages": "11-20",
      "content": "--- Page 11 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  11 Document 180 -0214-001 R0 3 2.1.1.2  Changing from Port -Aware to Endpoint -Awar e \nFor each subscriber that was assigned to a specific port and with an endpoint \nalready carrying traffic for this subscriber, the endpoint and subscriber profiles will \nbe automatically adjusted by the GAM to preserve the association between them.  \nSubscrib er profiles not yet tied to a specific endpoint will need to have an endpoint \nattached before it can bring up a G.hn link and pass traffic.  Endpoints not \npreviously assigned to a specific port are set to auto -port mode and will be set to \nthe port where it  is eventually seen when the endpoint is detected.  For endpoints \nnot yet assigned to any subscriber), an operator intervention is required to assign \nthe endpoint to a specific subscriber and/or to a specific port.  \n2.1.2  G.hn Port  \nAs of Version 1.4 of the GAM firmware, the definition of a G.hn port is expanded \nsignificantly to support the following new capabilities:  \n• G.hn port(s) as link to another GAM: this is useful to directly connect \nGAM devices to extend (or replace) a fiber lin k. \n• Private VLAN (RFC 5517):  using a Private VLAN (RFC 5517) is a \nconvenient way to isolate G.hn ports (and subscribers) from one another.  \n• Aggregation:  it is now possible to aggregate two or more G.hn ports to \nachieve higher bandwidth between GAM devices.  \n2.1.3  Bandwidth Profiles  (Bandwidth Plans)  \nA bandwidth profile defines  the maximum Downstream and Upstream bandwidth \nassigned to User Profiles.  Rate Limiters enforce t he bandwidth rules . Rate limiters \noperate at Layer -2 (Ethernet). For best Speed Test results, the rate limiter should \nbe set 6% to 8% higher  to account for the typical IP/TCP overhead of about 6%.  \nThe GAM creates and assigns a default bandwidth plan automatically  to any \nEndpoint not yet attached to a subscriber  profile . This default bandwidth plan \nprovides enough bandwidth to support access to the Self-care Captive portal  \nfeature  (VLAN 4094) . \nAn administrator  can create up to 14 additional bandwidth plans.  \n\n--- Page 12 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  12 Document 180 -0214-001 R0 3  \nFigure 5: Configuring & Managing Bandwi dth Plans  \nClick on a Bandwidth to manage it or click on the Add New Bandwidth Plan button \nto create a new one.  \n \n \nFigure 6: Adding a Bandwidth Plan  \nName : This field is mandatory, and the name must be unique among all bandwidth \nplans. It must contain between 1 and 31 alphanumeric characters.  \nBandwidth : Set the Downstream/Upstream bandwidth limits (in Mb ps).  \nAcceptable values are : \n• MIMO / SISO : 10 to 1 000 Mbps, \n• COAX : 10 to 800 Mbps . A service over 800M bps must be set to \n“unthrottled”.  \nDescription : Use this o ptional  free-form field to add a description of this bandwidth \nplan. There is no validation for the content of this field , which  can hold up to 63 \ncharacters.  \n2.1.4  Endpoint Devices  (G.hn Bridge)  – Endpoint Aware mode  \nThe GAM device authenticates and authorizes each managed Endpoint device to \nmake sure the overall G.hn infrastructure is secure and delivers the required \nservices to eac h Subscriber.  You can  pre-define Endpoints and assign them to a \nSubscriber profile , or you can select from the list of Endpoint discovered by the \nGAM.  \n\n\n--- Page 13 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  13 Document 180 -0214-001 R0 3 The following illustrates the list of Endpoint devices for a single Coax Port of the \nGAM where each port can handle up to 16 s ubscribers in a Point to Multipoint \nconfiguration using standard coax splitters.  For copper ports (MIMO or SISO), \neach port only allows a single Endpoint device.  \n \nFigure 7: Managing Endpoint devices  \nClicking on the Add New Endpoint button  takes you to the following screen:  \n \nFigure 8: Adding an Endpoint device  \nThe above page displays a list of Discovered but unconfigured endpoints.  These \nare endpoints detected by the GAM but not yet assigned to a su bscriber or to a \nport. This table is visible only when unconfigured endpoints are detected.  Click on \nthe endpoint you wish to configure to select one of the discovered but not yet \nassigned endpoint.  \nYou will need to enter the following information when ad ding an endpoint device:  \n\n\n--- Page 14 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  14 Document 180 -0214-001 R0 3 MAC : Set the endpoint  MAC address.  Enter t he MAC address manually or select \nfrom the discovered endpoints list.  \nPort (Endpoint Aware mode only) : Set the port that connects to the endpoint . \nYou can set ' Unassigned ' to pre-configure a device .  However, traffic will not flow \nuntil you assign the Endpoint to its specific port. Note: In copper mode \n(MIMO /SISO) , each G.hn port maps to a single Endpoint .  In Coax  mode , you can \nassign up to 16 Endpoint  device s to a port. \nName : This field is mandatory, and the name must be unique among all endpoints . \nIt must contain between 1 and 31 alphanumeric characters.  \nDescription : Use t his optional field to add a free-form description for this Endpoint. \nThere is no validation for the content of this field ; it can hold up to 63 characters.  \n2.1.5  Subscribers  \nThe GAM device relies on Subscriber profiles to control how it delivers High Speed \nInternet (HS I) services.  \nAs covered earlier, a subscriber is either associated to a specific Endpoint or \ndirectly to a port.  Each subscriber can be assigned to different VLAN s, or all \nsubscribers can be assigned to the same VLAN (data VLAN).  \nThe G.hn protocol will isolate traffic between endpoints  when co nnected to the \nsame port (coax).  The GAM will isolate traffic between ports via port isolation  or \nprivate VLANs (as per RFC 5517 ).  You can then assign a n optional Bandwid th \nPlan to a Subscriber to control how much bandwidth is available at any time.  \nThe following illustrates the list of Subscribers of the GA M along with the Endpoint \nassigned to each Subscriber.  \n \nFigure 9: Managing Subscribers  \n  \n\n\n--- Page 15 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  15 Document 180 -0214-001 R0 3 Click the Add New Subscriber button  to get the following screen  (the information \ndisplayed is adjusted to reflect either Endpoint -aware or Port -aware modes) : \n \nFigure 10: Adding Subscribers  \nSubscriber Name : This field is mandatory , and it used as the key whenever \naccessing the subscriber profi le via the  JSON -RPC API .  This name must be \nunique among all subscribers. It must contain between 1 and 31 characters.  \nASSIGNED PORT (PORT -AWARE Mode Only): Sets the port to which the \nsubscriber is bound to.  \nDOUBLE TAGGING: enable this setting will allow you to specify the C -VLAN \n(Inner tag) used with the S -VLAN (Outer tag) to uniquely identify the subscriber \ntraffic.  \nS-VLAN UPLINK PORT: The uplink (sometimes referred as NNI) port onto which \nthis subscriber traffic is bound.  The default value set in  the Global parameters can \nbe overridden with another uplink port if required.  \nS-VLAN (OUTER TAG) : This the outer VLAN ID used on the uplink ( NNI) port to \ncarry the subscriber traffic .  When double tagging  is used, the C -VLAN (inner tag) \nis used as the 2nd VLAN tag.  \nC-VLAN  (INNER T ag): This is the customer (C -TAG) VLAN, this VLAN can be \nuntagged, keep VLAN tag, or remapped to a different VLAN.  A G.hn service can \nuse any VLAN between 3 and 4093  except for VLANs 3840 to 3842 .  The GAM \nreserves VLANs 1, 2 , and 4095 for its internal use.  The GAM automatically assigns \n\n\n--- Page 16 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  16 Document 180 -0214-001 R0 3 VLAN 4094 to non -configured service to force the subscriber to use the Self -Care \nCaptive Portal of the GAM (future capability).  \nREMAPPED VID : specify the VLAN ID used between the G.hn bridge and t he \nGAM. In other words, the GAM remaps the Ingress user traffic (from the NNI port \nof the GAM) to this VLAN ID before forwarding to the Endpoint . The reverse action \ntakes place for traffic from the Endpoint  to the Internet.  The GAM replaces the \nVLAN ID of the Endpoint  with the VLAN ID assigned to the Subscriber on the NNI \nport by the GAM.  \nENDPOINT TAGGING : Enable or disable VLAN tagging at the subscriber \nendpoint. If disabled, the user traffic is untagged. If enabled, the VLAN tag will be \npreserved: either the primary VLAN tag or (if set) the remapped VLAN tag.  \nTRUNK MODE: when enabled, this sets the Ethernet Port #1 of the G.hn Endpoint \nin VLAN Trunk mode.  This is particularly useful when connecting to a W i-Fi Access \nPoint with Dynamic PSD / VLAN roaming.  \nALLOWED TAGGED VLAN : The Allowed tagged VLAN field is a list of VLAN (up \nto 14) that will be forwarded (untouched). This allows application s such as IPTV to \npreserve the VLAN and P -BIT information through to the Residential Gateway  or \nset top box.  \nBANDWIDTH PLAN : Optional Rate limiter associated to the subscriber. The \nBandwidth Plan should be created prior of creating the subscriber.  If set to \n\"unthrottled\", this subscriber will have no bandwidth limit re striction.  \nPORT #2 VLAN: Some endpoint devices have a 2nd Gigabit Ethernet Port and a \nVLAN can be assigned for services such as IPTV, VoIP, etc. This applies to \ndevices such as the G1000 -M and the G1000 -C. \nENDPOINT (Endpoint Aware mode only) : The endpoint assigned to this \nsubscriber. We recommend creating the endpoint prior to creating the subscriber.  \nTraffic will only flow upon the association of a subscriber to an endpoint.  \nDESCRIPTION : The field is optional, free -form description given to this subscriber.   \nThere is no validation for the content of this field, apart the number of characters, \nit can contain up to 63 characters.  \n2.2 Managing VLANs on the uplink.  \nBy default , the uplinks of the GAM are set in “trunk” mode and allow all VLANs \nfrom 3 to 40 94 to go through. In the table below, only the configuration of the 2 \n\n--- Page 17 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  17 Document 180 -0214-001 R0 3 uplinks (10G -1 and 10G -2) can be modified. The VLAN table for the G.hn 1 to 12 \nor 24) is managed by the G.hn subscriber configuration.  \nA user can decide not to use VLANs on a n uplink, the mode must be changed to \nthe following:  \n• Mode Access : all traffic will be untagged  on the egress, and in the ingress \nall traffic will be tagged (inside de GAM) with the port VLAN.  \n• Mode Hybrid : in the egress, a specific VLAN (Port VLAN) can be untagged  \nbut all other VLAN will stay tagged.  In the ingress, the untagged traffic will \nbe tagged with the Port VLAN.  \nMore information below about the different parameters.  \nConfiguration>VLAN>Configuration  \n \nFigure 11: Global VLAN C onfiguration table  \nLet us begin with the Global VLAN Configuration settings.  \nAllowed Access VLANs:  This field shows the allowed Access VLANs, for the \nG.hn ports configured as Access ports. Ports in other modes are members of the \nVLANs specified in the All owed VLANs field. By default, VLAN 1 is the only one \nenabled. More VLANs may be created using an enumeration  list syntax where the \nindividual elements are separated by commas. You can specify a range of VLANs \n\n\n--- Page 18 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  18 Document 180 -0214-001 R0 3 with a dash separating the lower and upper boun d.  The following example sets \nVLANs 1, 10, 11, 12, 13, 200, and 300: 1, 10 -13, 200, 300.  \nEthertype for Custom S -ports:  Specify the Ethertype/TPID (in hexadecimal) \nused for Custom S -ports. The setting applies to all of the ports with the Port Type  \nset to S-Custom -Port. \nPort VLAN Configuration  \nThe following settings apply on a Port -by-Port basis.  Looking at the Port VLAN \nConfiguration  table, we see:  \nPort. This is the logical port number of this row.  \nMode: The port mode (default is ACCESS ) controls the fundamental behavior of \nthe port in question. A port can be in one of three modes as described below.  \nWhenever you select a particular mode, the configurable fields in that row entry \nmay change (grayed out).  Grayed out fields will show the value that  the port will \nget when the mode is applied.  The available MODE  settings are:  \nAccess: use Access ports to connect to end stations. Dynamic features like Voice \nVLAN may add the port to more VLANs behind the scenes. Access ports have the \nfollowing character istics:  \n• Member of exactly one VLAN, the Port VLAN (a.k.a. Access VLAN), which \nby default is 1  \n• Accept untagged and C -tagged frames  \n• Discard all frames not classified to the Access VLAN  \n• On egress all frames are transmitted untagged  \nTrunk: Trunk ports carry traffic on multiple VLANs simultaneously, and usually \nconnect to other switches. Trunk ports have the following characteristics:  \n• By default, a trunk port is member of all VLANs (1 -4095)  \n• The VLANs for a specific port may be limited by the use of Allow ed VLANs \nfor that port  \n• Frames classified to a VLAN outside of the list of allowed VLANs for that \nport are discarded  \n• By default, the GAM tags all frames not classified to the Port VLAN (a.k.a. \nNative VLAN) on Egress. Frames classified to the Port VLAN do no t get C -\ntagged on Egress  \n\n--- Page 19 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  19 Document 180 -0214-001 R0 3 • Egress tagging can be changed to tag all frames, in which case only tagged \nframes are accepted on Ingress  \nHybrid: Hybrid ports resemble trunk ports in many ways.  They add additional port \nconfiguration features beyond those availab le for trunk  ports. These additional \ncharacteristics (beyond the ones for trunk  ports above) include:  \n• VLAN Awareness: each port is configurable to be VLAN tag unaware, C -tag \naware, S -tag aware, or S -custom -tag aware  \n• Ingress filtering is controllable  \n• Ingres s acceptance of frames and configuration of egress tagging is \nconfigured independently  \nPort VLAN:  Determines the port's VLAN ID (a.k.a. PVID).  Allowed VLANs are in \nthe range of 1 through 4095, with a default of 1.  On ingress , frames are classified \nto the  Port VLAN whenever the port is configured as: VLAN unaware, the frame is \nuntagged, or VLAN awareness is enabled on the port and the frame is priority \ntagged (VLAN ID = 0).  On egress , frames classified to the Port VLAN are \nuntagged when Egress Tagging con figuration is set to untag Port VLAN.  The Port \nVLAN is known as \"Access VLAN\" for ports in Access mode and as “Native VLAN” \nfor ports in Trunk or Hybrid mode.  \nPort Type: Ports in hybrid mode allow for changing the port type, that is, whether \na frame's VLA N tag is used to classify the frame on ingress  to a particular VLAN, \nand if so, which TPID it reacts on. Likewise, on egress , the Port Type determines \nthe TPID of the VLAN tag, if a VLAN tag is required.  Available Port Types  are: \n• Unaware: On ingress, all frames (whether carrying a VLAN tag or not) get \nclassified to the Port VLAN, and any VLAN tags present are not removed \non egress.  \n• C-Port: On ingress, frames with a VLAN tag with TPID = 0x8100  are \nclassified to the VLAN ID embedded in the tag.  If a frame i s untagged or \npriority tagged, the frame is classified to the Port VLAN. If frames are to be \ntagged on egress, they will be tagged with a C -tag. \n• S-Port: On egress, whenever frames must be tagged, they will be tagged \nwith an S -tag.  On ingress, frames with a VLAN tag and a TPID = 0x88A8 \nget classified to the VLAN ID embedded in the tag.  Priority -tagged frames \nare classified to the Port VLAN.  If the port is configured to accept “Tagged \nOnly” frames (see Ingress Acceptance below), frames without this TPID ar e \ndropped.  \n\n--- Page 20 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  20 Document 180 -0214-001 R0 3 • S-Custom -Port: On egress, if frames must be tagged, they will be tagged \nwith the custom S -tag.  On ingress, frames with a VLAN tag and a TPID \nequal to the Ethertype configured for Custom -S ports are classified to the \nVLAN ID embedded in the tag.   Priority -tagged frames are classified to the \nPort VLAN.  If the port is configured to accept “Tagged Only ” frames (see \nIngress Acceptance below), frames without this TPID are dropped.  \nQ-in-Q Enable: This enables 802.1Q double -tag on hybrid ports that hav e the port \ntype set to C -Port or S -Port.  If set, it will set an inner tag of 0x8100, and an outer \ntag defined by the port type (0x810 0 if port type is set to C -Port or 0x88A8 if the \nport type is set to S -Port).  \nQ-in-Q Rules: When Q -in-Q is enabled, click the edit button to enter the rule \nsetting page of the designated interface. Summary about the designated interface \nwill be shown by clicking the view button. You can manage or inspect the rules by \nusing the following buttons:  \n: List the rul es associated with the designated interface.  \n: Allows you to define the rules associated with the designated interface  \nIngress Filtering: Hybrid ports allow for flexible ingress filtering. Access and Trunk \nports always have ingress filtering enabled.  If ingress filtering is enabled \n(checkbox is checked), frames classified to a VLAN that the port is not a member \nof are discarded.  If ingress filtering is disabled, frames classified to a VLAN that \nthe port is not a member of are accepted and fo rwarded to the switch engine. \nHowever, the port will never transmit frames classified to VLANs that it is not a \nmember of.  \nIngress Acceptance: Hybrid ports allow for changing the type of frames accepted \non ingress.  The available settings are:  \n• Tagged and U ntagged: Both tagged and untagged frames are accepted. \nSee Port Type for a description of when a frame is considered tagged.  \n• Tagged Only: Only frames tagged with the corresponding Port Type tag \nare accepted on ingress.  \n• Untagged Only: Only untagged frames a re accepted on ingress. See Port \nType for a description of when a frame is considered untagged.  \nEgress Tagging: Ports in Trunk and Hybrid mode may control the tagging of \nframes on egress.  The available settings are:  \n\n"
    },
    {
      "chunk_id": 3,
      "pages": "21-30",
      "content": "--- Page 21 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  21 Document 180 -0214-001 R0 3 • Untag Port VLAN: Frames classified to t he Port VLAN are untagged. Other \nframes are transmitted with the relevant tag.  \n• Tag All: All frames, whether classified to the Port VLAN or not, are \ntransmitted with a tag.  \n• Untag All: All frames, whether classified to the Port VLAN or not, are \ntransmitted w ithout a tag.  This option is only available for ports in Hybrid \nmode.  \nAllowed VLANs: Ports in Trunk and Hybrid mode control the VLANs they can \nbecome members of. Access ports can only be member of one VLAN, the Access \nVLAN.  The field's syntax is identica l to the syntax used in the Enabled VLANs \nfield.  By default, a Trunk or Hybrid port will become a member of all VLANs and \nis therefore set to 3-4094.  An empty field means that the port will not become a \nmember of any VLAN.  \nForbidden VLANs: A port may be configured to never become member of one or \nmore VLANs. This is particularly useful to prevent dynamic VLAN protocols like \nMVRP and GVRP from dynamically adding ports to forbidden VLANs.  The syntax \nis identical to the syntax used in the Enabled VLANs fiel d.  An empty field means \nthat the port may become a member of all possible VLANs.  \n2.3 DHCP Snooping / Option -82 \nThe DHCP agent of the GAM supports DHCP Option 82.  It forward s and transfer s \nDHCP messages between DHCP clients and the DHCP server on same or \ndifferent subnet s (Relay mode) . The GAM stores the incoming interface IP address \nin the GIADDR field of the DHCP packet. The DHCP server can use the value of \nGIADDR field to determine the assigned subnet. For such condition, please make \nsure the sw itch configuration of VLAN interface IP address and Port VLAN ID  \n(PVID ) correctly.  \nYou can configure the DHCP Snooping  function as follows:  \nSnooping Mode: Indicates the DHCP snooping mode. Possible modes are:  \n• Enabled : when you enable DHCP snooping, the GAM forwards the DHCP \nrequest messages a DHCP Server to trusted ports and only allow reply \npackets from trusted ports.  \n• Disabled : Disables the DHCP snooping function.  \n  \n\n--- Page 22 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  22 Document 180 -0214-001 R0 3 Port Mode Configuration Table  \nFor each port in the table, you can set the mode of a port as trusted or untrusted.  \n \nFigure 12: Managing DHCP Option 82  \nYou then need to configure the DHCP Relay  settings as follows:  \nRelay Mode: select the mode of operation for the DHCP relay function.  Possible \nmodes are:  \n• Enabled : DHCP unicast to a specific DHCP server  enables the DHCP \nRelay function where the GAM forwards and transfers DHCP messages \nbetween the DHCP clients and the DHCP server on different subnets .  \nDHCP broadcast messages are not flooded on all interfaces for security \nconsiderations.  \n• Disabled : Disable the DHCP relay function.  DHCP packets will be sent as \nbroadcast packets.  \nRelay Server: specify the IP address of the DHCP relay server.  \nRelay Inform ation Mode: when you enable this function, the DHCP Snooping \noperates as per the Broadband Forum TR -101 specification that dictates how to \nuse Option 82.  The Option 82 Circuit ID format is \"[Agent Identifier][interface] \n\n\n--- Page 23 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  23 Document 180 -0214-001 R0 3 [slot]/[port number]\".  For example , \"000ED8 -GAM12C -01012973\" eth 0/6.0:3 \nindicates that the DHCP request was issued by Agent 000ED8 -GAM12C -\n01012973 on an Ethernet interface by a GAM at slot 0.  It further indicates that the \nDHCP packet originates from port #6 of the GAM, sent by endpoint # 0 to this port, \nwith a VLAN ID of 3. The Option 82 Remote ID value is set to the G.hn subscriber \nname associated to the G.hn endpoint . \n• Enabled : the DHCP agent of the GAM inserts the information for option 82 \ninto DHCP message s toward the DHCP server and re moves it on DHCP \nmessages to the DHCP client.  \n• Disabled : Disable the DHCP relay function . \nRelay Information Policy : the selected policy dictates the behavior of the DHCP \nAgent when it receives a DHCP message that already contains relay agent \ninformation .  Available policies are:  \n• Replace : Replace the original relay information when a DHCP message \nthat already contains it is received.  \n• Keep : Keep the original relay information when a DHCP message that \nalready contains it is received.  \n• Drop : Drop t he package when a DHCP message that already contains relay \ninformation is received.  \nRelay Information Access Node ID : specify the Agent Iden tifier to use when \nformatting the Circuit ID  sub-option of Option 82 . When empty, it will use the GAM \nSNMP System Na me. When the SNMP System Name is empty, it will u se the GAM \nserial number.  \nRelay Information Index Base : specify whether the GAM slot number and the \nG.hn end -point number in the Circuit ID are zero -based or one -based.  \n• 0-based : GAM Slot / G.hn end -point num bers specified in  the Circuit ID are \nzero-based  \n• 1-based : GAM Slot / G.hn end -point numbers specified in the Circu it ID are \none-based  \n\n--- Page 24 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  24 Document 180 -0214-001 R0 3  \nFigure 13: Basic DHCP Relay Configuration Settings  \n2.4 PPPoE  Intermediate Agent  \nThe GAM supports the PPPoE Intermediate Agent.  It operates as per the \nBroadband Forum TR -101 specification.  The PPPoE Intermediate Agent \nintercepts all upstream PPPoE discovery stage packets, i.e. the PADI, PADR and \nupstream PADT packets, but does not modify the  source or destination MAC \naddress of these PPPoE discovery packets.  \nThe PPPoE Intermediate Agent operates as per the Broadband Forum TR -101 \nspecification.  The Circuit ID format is \"[Agent Identifier][interface] [slot]/[port \nnumber]\".  For example, \"000ED 8-GAM12C -01012973\" eth 0/6.0:3 indicates that \nthe PPPoE Discovery request was issued by Agent 000ED8 -GAM12C -01012973 \non an Ethernet interface by a GAM at slot 0.  It further indicates that the PPPoE \npacket originates from port #6 of the GAM, sent by endpoi nt #0 to this port, with a \nVLAN ID of 3. The Remote ID value is set to the G.hn subscriber name associated \nto the G.hn endpoint . \nYou can configure the following settings for the PPPoE Intermediate Agent:  \nInformation Mode: select the mode of operation for t he PPPoE Intermediate \nAgent function.  Possible modes are:  \n• Enabled : enables the PPPoE Intermediate Agent where the GAM inserts \nspecific information (Agent Information/TR -101) into a PPPoE Discovery \nmessage when forwarding to the PPPoE server and removes it from a \nPPPoE Discovery message when transferring to the PPPoE client.  \n• Disabled : Disable the PPPoE Intermediate Agent function.  \n\n\n--- Page 25 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  25 Document 180 -0214-001 R0 3 Information Policy: the selected policy dictates the behavior of the PPPoE \nIntermediate Agent when it receives a PPPoE  Discover message that already \ncontains relay agent information.  Available policies are:  \n• Replace : Replace the original relay information when a PPPoE Discover \nmessage that already contains it is received.  \n• Keep : Keep the original relay information when a PPPoE Discover message \nthat already contains it is received.  \n• Drop : Drop the package when a PPPoE Discover message that already \ncontains relay information is received.  \nInformation Access Node ID: specify the Agent Identifier to use when formatting \nthe Circui t ID sub -option. When empty, it will use the GAM SNMP System Name. \nWhen the SNMP System Name is empty, it will u se the GAM serial number.  \nInformation Index Base: specify whether the GAM slot number and the G.hn end -\npoint number in the Circuit ID are zero -based or one -based.  \n• 0-based : GAM Slot / G.hn end -point numbers specified in the Circuit ID are \nzero-based  \n• 1-based : GAM Slot / G.hn end -point numbers specified in the Circuit ID are \none-based  \n \nFigure 14: Basic PPPoE Intermediate Agent Configuration Settings  \n \n \n\n\n--- Page 26 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  26 Document 180 -0214-001 R0 3 Chapter 3   \n______________________________________  \nOverview of the  JSON -RPC API  \n \n  \n\n--- Page 27 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  27 Document 180 -0214-001 R0 3 3.1 Overview of the GAM JSON -RPC API  \n \nAs covered in the summary section of the GAM WEB GUI, the provisioning of \nservices on a Positron GAM device typically includes the following:  \n• GAM Global Settings : this is provisioned by the following  JSON -RPC API  \nMethod s:  \no ghnAgent.config. global .get: retrieve the GAM Global settings  \no ghnAgent.config .global .set: modify the GAM Global settings  \n• Bandwidth Profiles: this is provisioned by the following   JSON -RPC API  \nMethods  where the Bandwidth Profile Name is used as the key :  \no ghnAgent.config.bwProfile ByName .add: add a new Bandwidth \nProfile  \no ghnAgent.config.bwProfile ByName .get: retrieve existing Bandwidth \nProfile(s)  \no ghnAgent.config.bwProfile ByName .set: modify an existing \nBandwidth Profile  \no ghnAgent.config.bwProfile ByName .del:  remove an existing \nBandwidth Profile  \n• Subscriber (User) Profiles: this is provisioned by the following  JSON -\nRPC API  Method s: \no ghnAgent.config.user ByName .add: create a new Subscriber Profile  \no ghnAgent.config.user ByName .get: retrieve existing Subscriber \nProfile(s)  \no ghnAgent.config.user ByName .set: modify an existing Subscriber \nProfile  \no ghnAgent.config.user ByName .del: remove an existing Subscriber \nProfile  \n• Endpoint Devices  (applicable when operating in Endpoint Aware \nmode) : this is provisioned by the following  JSON -RPC API  Method s: \no ghnAgent.config.endpoint ByName .add: add a new Endpoint entry \nand assign it to a specific GAM port  \no ghnAgent.config.endpoint ByName .get: retrieve existing Endpoint \nDevices defined for the GAM  \no ghnAgent.config.endpoint ByName .set: modify an existing Endpoint \nDevice  \no ghnAgent.config.endpoint ByName .del: remove an existing Endpoint \nDevice  \n  \n\n--- Page 28 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  28 Document 180 -0214-001 R0 3 • Ports: this is provisioned by the following  JSON -RPC API  Method s: \no ghnAgent.config.port.get : retrieve information about port(s) of the \nGAM  \no ghnAgent.config.port.set : modify an existing Port entry of the GAM  \nNOTE: upon  completion, the JSON -RPC Me thods return a JSON object in the form  of: \n{\"id\":\"?\",\"error\":?,\"result\":?}.  The id will always reflect the value provided in the \nJSON -RPC Me thod; error will be present  if the method could not be completed \nsuccessfully.  If successful, result may be present depending on the action assigned to \nthe Method.  \n3.1.1  Retrieving the JSON Contract from the GAM  \nYou can retrieve the JSON contract ( inventory -r21156.json) from the GAM by is suing \nthe following JSON RPC Method:  \nhttp://${USERNAME}:${PASSWORD}@${SERVER}:${PORT}/json_rpc -s -d \n'{\"method\":\"jsonRpc.status.introspection.generic.inventory.get\", \"params\":[\"\"],\"id\":\"1\"}'  \n3.2 Committing provisioning changes to the GAM  \nIt is important to com mit any provisioning changes to the GAM startup configuration to \nmake sure the new settings are still in force following an eventual restart of the GAM \ndevice.  This is achieved with the following JSON -RPC Me thod:  \n'icfg.control.copy.set' '[{\"Copy\": true, \" SourceConfigType\": \"runningConfig\",  \n\"SourceConfigFile\": \"runningConfig\", \"DestinationConfigType\": \"startupConfig\", \n\"DestinationConfigFile\": \"startupConfig\", \"Merge\": false }]'  \n \n3.3 Managing GAM Global Settings  \nThe global GAM settings and they are defin ed by the following JSON object: \nvtss_appl_ghn_agent_global_config_t.  \nWhen operating in Port Aware mode, you need to set the global settings as follows:  \n• SubscriberModel: shall be set to “ portAware ” \n• DefaultNNIIfIndex:  shall be set to “ 10G 1/1 ” to select the  first port of the GAM as the \ndefault uplink port  \n{ \n\"type-name\":\"vtss_appl_ghn_agent_global_config_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\n--- Page 29 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  29 Document 180 -0214-001 R0 3 \"elements\":[  \n{ \n\"name\":\"SubscriberModel\",  \n\"type\":\" vtss_appl_ghn_agent_subscriber_model_t\",  \n\"description\":\"The subscriber model.  In endpoint -aware, each \nsubscriber is assigned an endpoint.  In port -aware, each \nsubscriber is assigned a port.  The Port -Aware model is only \noffered on MIMO/SISO systems (GAM -xx-M).\" \n}, \n{ \n\"name\":\"DefaultNNIIfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"The  default UPLINK (NNI) port to use for double -\ntagging when the subscriber UPLINK (NNI) port is set to the value \n'default'.\"  \n} \n] \n} \n \n3.3.1  ghnAgent.config.global.get  \nUse this method to retrieve the GAM Global settings to make sure they are set as per \nyour preferred  operating mode.  \n{ \n\"method-name\":\"ghnAgent.config.global.get\",  \n\"params\":[],  \n\"result\":[  \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_global_config_t\"  \n} \n] \n} \n3.3.2  ghnAgent.config.global.set  \nUse this method to retrieve the GAM Global settings to make sure they are set as per \nyour preferred operating mode.  \n{ \n\"method-name\":\"ghnAgent.config.global.set\",  \n\"params\":[  \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_global_config_t\"  \n} \n\n--- Page 30 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  30 Document 180 -0214-001 R0 3 ], \n\"result\":[]  \n} \n3.4 Managing GAM Bandwidth Profiles  \nA bandwidth profile is defined by the following attributes:  \n• Id: ignore this parameter, NOT used when using the ByName JSON -RPC Me thods  \n• Uid: ignore this parameter, NOT used when using the ByName JSON -RPC Me thods  \n• Name : Unique name of th is Bandwidth Profile .  This is the key to identify a Bandwidth \nProfile in the JSON -RPC Me thods acting on Bandwidth Profiles  \n• Description : Free-form description string for the Bandwidth Profile  \n• DsBw : Downstream Bandwidth  (in Mbps)  assigned to this Bandwidth profile  \n• UsBw : Upstream Bandwidth (in Mbps) assigned to this Bandwidth profile  \n \nThe JSON Object encoding for a GAM Bandwidth Profile is as follows:  \n{ \n\"type-name\":\"vtss_appl_ghn_agent_bw_profile_config_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\"elements\":[  \n{ \n\"name\":\"Id\",  \n\"type\":\"uint32_t\",  \n\"description\":\"The bandwidth profile ID.   NOT used when \nusing the “ByName” Bandwidth profile methods \" \n}, \n{ \n\"name\":\"Uid\",  \n\"type\":\"uint32_t\",  \n\"description\":\"A  number uniquely identifying this endpoint.  \nIncremented for each newly added endpoint.  Not persistent \nacross reboot.  This value is read -only.  NOT used when \nusing the “ByName” Bandwidth profile methods. \" \n}, \n{ \n\"name\":\"Name\",  \n\"type\":\"string\",  \n\"description \":\"unique name – used as the key for all other \nJSON-RPC Methods involving a Bandwidth profile \" \n}, \n{ \n\"name\":\"Description\",  \n\"type\":\"string\",  \n"
    },
    {
      "chunk_id": 4,
      "pages": "31-40",
      "content": "--- Page 31 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  31 Document 180 -0214-001 R0 3 \"description\":\"User -configurable description string\"  \n}, \n{ \n\"name\":\"DsBw\",  \n\"type\":\"uint32_t\",  \n\"description\":\"Bandwidth profile downstream bandwidth.\"  \n}, \n{ \n\"name\":\"UsBw\",  \n\"type\":\"uint32_t\",  \n\"description\":\"Bandwidth profile upstream bandwidth.\"  \n} \n] \n} \n \n3.4.1  ghnAgent.config.bwProfile ByName .add \nUse this method to create a NEW Bandwidth Profile with a unique Bandwidth Profile \nname since this is the key used to identify the profile in the other JSON -RPC Me thods \nthat make use or refer to a Bandwidth profile.  \n{ \n\"method-name\":\"ghnAgent.config.bwProfile ByName.add\", \n\"group-name\":\"ghnAgent.config.bwProfile\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_bw_profile_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.4.2  ghnAgent.config.bwProfile ByName .get \nUse this method to retrieve all the existing Bandwidth Profile(s)  that are returned as an \narray of Bandwidth Profiles.   You can retrieve a specific Bandwidth Profile if you specify \nthe unique Bandwidth Profile name as an  input to the Method:  \n{ \n\"method-name\":\"ghnAgent.config.bwProfileByName.get\",  \n\n--- Page 32 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  32 Document 180 -0214-001 R0 3 \"group-name\":\"ghnAgent.config.bwProfileByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[  \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_bw_profile_config_t\"  \n} \n] \n} \nYou can retrieve ALL the Bandwidth Profiles if you do not specify a unique Bandwidth \nProfile name as an input to the Method:  \n{ \n\"method-name\":\"ghnAgent.config.bwProfileByName.get\",  \n\"description\":\"This is an overload of \nghnAgent.config.bwProfileByName.get without any input parameters. It is \nused to implement a get -all functionallity.\",  \n\"group-name\":\"ghnAgent.config.bwProfileByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[],  \n\"result\":[  \n{ \n\"name\":\"res\",  \n\"type\":{  \n\"class\": \"Array\",  \n\"encoding -type\": \"Array\",  \n\"type\":{  \n\"class\": \"Struct\",  \n\"encoding -type\": \"Object\",  \n\"elements\":[  \n{ \n\"name\":\"key\",  \n\"semantic -name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"val\",  \n\"semantic -name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_bw_profile_co\nnfig_t\" \n} \n\n--- Page 33 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  33 Document 180 -0214-001 R0 3 ] \n} \n} \n} \n] \n} \n3.4.3  ghnAgent.config.bwProfile ByName .set \nUse this method to modify an existing Bandwidth Profile identified by its unique \nBandwidth Profile name.  The value of DsBw  and UsBw  will be applied to the specified \nBandwidth Profile.  \n{ \n\"method-name\":\"ghnAgent.config.bwProfile ByName.set\", \n\"group-name\":\"ghnAgent.config.bwProfile\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_bw_profile_config_t\"  \n} \n], \n\"result\":[]  \n}, \n3.4.4  ghnAgent.config.bwProfile ByName .del \nUse this method to remove (delete) an existing Bandwidth Profile identified by its unique \nBandwidth Profile name.  \n{ \n\"method-name\":\"ghnAgent.config.bwProfile ByName.del\", \n\"group-name\":\"ghnAgent.config.bwProfile\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[]  \n}, \n\n--- Page 34 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  34 Document 180 -0214-001 R0 3 3.5 Managing GAM Subscriber Profiles  \nA Subscriber Profile is defined by the following JSON object: \nvtss_appl_ghn_agent_user_config_t  \nWhen operating in ByName mode, the key to a Subscriber Profile is the “ name ” element \nin the following JSON object.  \n{ \n\"type-name\":\"vtss_appl_ghn_agent_user_config_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\"elements\":[  \n{ \n\"name\":\"Id\",  \n\"type\":\"uint32_t\",  \n\"description\":\"The subscriber ID.  NOT used when operating \nin ByName mode.\"  \n}, \n{ \n\"name\":\"Uid\",  \n\"type\":\"uint32_t \", \n\"description\":\"A number uniquely identifying this \nsubscriber.  Incremented for each newly added subscriber.  \nNot persistent across reboot.  This value is read -only. NOT \nused when operating in ByName mode.\"  \n}, \n{ \n\"name\":\"Name\",  \n\"type\":\"string\",  \n\"description\":\" Unique Name of the Subscriber Profile, used \nas a key whenever referencing a Subscriber Profile in any \nof the other ByName JSON-RPC Methods.\" \n}, \n{ \n\"name\":\"Description\",  \n\"type\":\"string\",  \n\"description\":\"User -configurable description string\"  \n}, \n{ \n\"name\":\"EndpointId\",  \n\"type\":\"uint32_t\",  \n\"description\":\"G.hn endpoint ID assigned to this \nsubscriber, 0 to configure subscriber with no assigned \nendpoint . Writable only when configuring subscriber by id.\" \n}, \n\n--- Page 35 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  35 Document 180 -0214-001 R0 3 { \n\"name\":\"EndpointName\",  \n\"type\":\"string\",  \n\"description\":\"G.hn endpoint assigned to this subscriber .  \nLeave unspecified when operating in PortAware mode .  \nWritable only when configuring subscriber by name.\"  \n}, \n{ \n\"name\":\"EndpointMacAddress\",  \n\"type\":\" mesa_mac_t\",  \n\"description\":\"Endpoint MAC address (valid if an endpoint \nis assigned).\"  \n}, \n{ \n\"name\":\"BwProfileId\",  \n\"type\":\"uint32_t\",  \n\"description\":\"G.hn  bandwidth profile ID assigned to this \nsubscriber, 0 for unthrottled. Writable only when \nconfiguring subscriber by id.   Use the BwProfileName object \nwhen operating in ByName mode. \" \n}, \n{ \n\"name\":\"BwProfileName\",  \n\"type\":\"string\",  \n\"description\":\"G.hn bandwidth  profile assigned to this \nsubscriber.  Writable only when configuring subscriber by \nname.\" \n}, \n{ \n\"name\":\"BwProfileUid\",  \n\"type\":\"uint32_t\",  \n\"description\":\"Id uniquely identifying the assigned \nbandwidth profile.\"  \n}, \n{ \n\"name\":\"VlanId\",  \n\"type\":\"uint16_t\",  \n\"description\":\"Vlan ID assigned to this subscriber.\"  \n}, \n{ \n\"name\":\"VlanIsTagged\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Keep VLAN tag at endpoint facility port.\"  \n}, \n{ \n\"name\":\"RemappedVlanId\",  \n\"type\":\"uint16_t\",  \n\n--- Page 36 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  36 Document 180 -0214-001 R0 3 \"description\":\"Remapped Vlan  ID.  0 for no remapping, \notherwize, must be a value between 3 and 4093.\"  \n}, \n{ \n\"name\":\"Port2VlanId\",  \n\"type\":\"uint16_t\",  \n\"description\":\"The  VLAN ID attributed to the second \nEthernet port, for services such as IPTV, VoIP, etc.  This \nis applicable only for endpoints which is equipped with two \nEthernet ports, such as the G1000 -M/C, and not applicable \nfor endpoints equipped with a single Ethernet  port such as \nthe G1001 -M/C.  That correspond to the VLAN used for the \nsecond Ethernet port.\"  \n}, \n{ \n\"name\":\"AllowedTaggedVlans\",  \n\"type\":\"vtss_vid_list_t\",  \n\"description\":\"Extra allowed tagged VLANs.  Valid VLANS are \nVID 3~4093.\"  \n}, \n{ \n\"name\":\"TrunkMode\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Allow CPE trunk mode.  Not available for all \nCPE.\" \n}, \n{ \n\"name\":\"PortIfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"G.hn subscriber assigned port ( applicable \nonly when the system is in port -aware mode ).\" \n}, \n{ \n\"name\":\"Doub leTags\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Use double -tagging.\"  \n}, \n{ \n\"name\":\"NNIIfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"Uplink port to use for double -tagging \ntraffic.  Set to None to use default Uplink ( NNI) defined \nin the global configuration .\" \n}, \n{ \n\"name\":\"OuterTagVlanId\",  \n\"type\":\"uint16_t\",  \n\"description\":\"Outer tag used in double tagging.\"  \n\n--- Page 37 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  37 Document 180 -0214-001 R0 3 } \n] \n}, \n3.5.1  ghnAgent.config.user ByName .add \nUse this method to create a new Subscriber Profile  for the GAM.  \n{ \n\"method-name\":\"ghnAgent.config.userByName.add\",  \n\"group-name\":\"ghnAgent.config.userByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\" vtss_appl_ghn_agent_user_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.5.2  ghnAgent.config.user ByName .get \nUse this method to retrieve all the existing Subscriber Profile(s) that are returned as an \narray of Subscriber Profiles.  You can retrieve a specific Subscriber Profile if  you specify \nthe unique Subscriber Profile name as an input to the Method:  \n{ \n\"method-name\":\"ghnAgent.config.userByName.get\",  \n\"group-name\":\"ghnAgent.config.userByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[  \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_user_config_t\"  \n} \n] \n} \n\n--- Page 38 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  38 Document 180 -0214-001 R0 3 You can retrieve ALL the Bandwidth Profiles if you do not specify a unique Bandwidth \nProfile name as an input to the Method .    The method wil l return an array of \nvtss_appl_ghn_agent_user_config_t  JSON objects.  \n{ \n\"method-name\":\"ghnAgent.config.userByName.get\",  \n\"description\":\"This is an overload of ghnAgent.config.userByName.get  \nwithout any input parameters. It is used to implement a get -all \nfunctionallity.\",  \n\"group-name\":\"ghnAgent.config.userByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[],  \n\"result\":[  \n{ \n\"name\":\"res\",  \n\"type\":{  \n\"class\": \"Array\",  \n\"encoding -type\": \"Array\",  \n\"type\":{  \n\"class\": \"Struct\",  \n\"encoding -type\": \"Object\",  \n\"elements\":[  \n{ \n\"name\":\"key\",  \n\"semantic -name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"val\",  \n\"semantic -name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_user_config_t\"  \n} \n] \n} \n} \n} \n] \n} \n3.5.3  ghnAgent.config.user ByName .set \nUse this method to modify an existing Subscriber Profile  by specifying its name:  \n{ \n\"method-name\":\"ghnAgent.config.userByName.set\",  \n\"group-name\":\"ghnAgent.config.userByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW \"}, \n\"params\":[  \n\n--- Page 39 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  39 Document 180 -0214-001 R0 3 { \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_user_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.5.4  ghnAgent.config.user ByName .del \nUse this method to remove (delete) an existing Subscriber Profile  by specifying its \nname.  \n{ \n\"method-name\":\"ghnAgent.config.userByName.del\",  \n\"group-name\":\"ghnAgent.config.userByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[]  \n} \n3.6 Managing GAM Endpoint Devices  \nWhen operating in Endpoint Aware mode (default operating mode for the GAM unless the \nOperating Mode is set to Port Aware), you can use the following JSON -RPC Me thods to \ncreate, query, modify and delete Endpoint (G.hn to Ethernet) devices.  \nThese methods operate on the vtss_appl_ghn_agent_endpoint_config_t  JSON \nobject:  \n{ \n\"type-name\":\"vtss_appl_ghn_agent_endpoint_config_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\"elements\":[  \n{ \n\"name\":\"Id\",  \n\n--- Page 40 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  40 Document 180 -0214-001 R0 3 \"type\":\"uint32_t\",  \n\"description\":\"The endpoint ID.\"  \n}, \n{ \n\"name\":\"MacAddress\",  \n\"type\":\"mesa_mac_t\",  \n\"description\":\"The endpoint MAC address.\"  \n}, \n{ \n\"name\":\"Name\",  \n\"type\":\"string\",  \n\"description\":\"unique  User-configurable name, used as the key by \nJSON-RPC Methods operating on this JSON object. \" \n}, \n{ \n\"name\":\"Description\",  \n\"type\":\"string\",  \n\"description\":\"User -configurable description string\"  \n}, \n{ \n\"name\":\"PortIfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"G.hn port index assigned to this endpoint, 0 to \nleave unassigned from all ports.\"  \n}, \n{ \n\"name\":\"AutoPort\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Indicates if the endpoint gets assigned to the \nfirst port where it is discovered.  This is effectiv e only if the \nport is left unassigned\"  \n}, \n{ \n\"name\":\"AllowMgmtVlan\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Allow access to management VLAN from subscriber \nendpoint.\"  \n} \n] \n} \n  \n"
    },
    {
      "chunk_id": 5,
      "pages": "41-50",
      "content": "--- Page 41 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  41 Document 180 -0214-001 R0 3 3.6.1  ghnAgent.config.endpoint ByName .add \nUse this JSON -RPC Me thod to define a NEW Endpoint device and assign it to the port \nwhere it will be connected.  You can allow the GAM to accept the discovery of an \nEndpoint device on any port by setting the AutoPort  parameter to YES.  \n{ \n\"method-name\":\"ghnAgent.config.endpointByName.add\",  \n\"group-name\":\"ghnAgent.config.endpointByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\" vtss_appl_ghn_agent_endpoint_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.6.2  ghnAgent.config.endpoint ByName .get \nUse this JSON -RPC Me thod to either retrieve information about a specific Endpoint or \nfor ALL the Endpoints known to the GAM.  \n{ \n\"method-name\":\"ghnAgent.config.endpointByName.get\",  \n\"group-name\":\"ghnAgent.config.endpointByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[  \n{ \n\"name\":\"config\",  \n\"type\":\" vtss_appl_ghn_agent_endpoint_config_t\"  \n} \n] \n} \n\n--- Page 42 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  42 Document 180 -0214-001 R0 3 You can retrieve ALL the Bandwidth Profiles if you do not specify a unique Bandwidth \nProfile name as an input to the Method .  The method will return an array of \nvtss_appl_ghn_agent_endpoint_config_t  JSON objects.  \n{ \n\"method-name\":\"ghnAgent.config.endpointByName.get\",  \n\"description\":\"This is an overload of \nghnAgent.config.endpointByName.get without any input parameters. It is \nused to implement a get -all functionallity.\",  \n\"group-name\":\"ghnAgent.config.en dpointByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[],  \n\"result\":[  \n{ \n\"name\":\"res\",  \n\"type\":{  \n\"class\": \"Array\",  \n\"encoding -type\": \"Array\",  \n\"type\":{  \n\"class\": \"Struct\",  \n\"encoding -type\": \"Object\",  \n\"elements\":[  \n{ \n\"name\":\"key\",  \n\"semantic -name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"val\",  \n\"semantic -name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_endpoint_config_t\"  \n} \n] \n} \n} \n} \n] \n} \n3.6.3  ghnAgent.config.endpoint ByName .set \nUse this method to modify an existing Endpoint by specifying its name:  \n{ \n\"method-name\":\"ghnAgent.config.endpointByName.set\",  \n\"group-name\":\"ghnAgent.config.endpointByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n\n--- Page 43 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  43 Document 180 -0214-001 R0 3 { \n\"name\":\"name\",  \n\"type\":\"string\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\" vtss_appl_ghn_agent_endpoint_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.6.4  ghnAgent.config.endpoint ByName .del \nUse this method to remove (delete) an existing Endpoint by specifying its name.  \n{ \n\"method-name\":\"ghnAgent.config.endpointByName.del\",  \n\"group-name\":\"ghnAgent.config.endpointByName\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\"name\":\"name\",  \n\"type\":\"string\"  \n} \n], \n\"result\":[]  \n} \n3.6.5  Retrieving detected but quarantined Endpoint devices  \nIn addition to the previous JSON -RPC Me thods operating on Endpoint devices, it may be \nuseful to query the GAM to retrieve information about any Endpoint devices detected but \nnot assigned to a specific subscriber.  Such Endpoint devices are automati cally put in a \nQuarantine state until they are explicitly assigned to a port.  \nThe ghnAgent.status.endpointByMac.brief.get  will return an array of JSON objects of type \nvtss_appl_ghn_agent_endpoint_brief_status_t : \n{ \n\"type-name\":\"vtss_appl_ghn_agent_endpoint_ brief_status_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\"elements\":[  \n{ \n\n--- Page 44 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  44 Document 180 -0214-001 R0 3 \"name\":\"MacAddress\",  \n\"type\":\"mesa_mac_t\",  \n\"description\":\"G.hn endpoint MAC address.\"  \n}, \n{ \n\"name\":\"ConfEndpointId\",  \n\"type\":\"uint32_t\",  \n\"description\":\"If this endpo int is configured, this is the \nconfigured endpoint ID.   That value is mainly useful when \nenumerating endpoints by MAC address.   In this case, the key is \nthe MAC address, so this give a reference to the configured \nendpoint ID.   In case of endpoints which ar e not confi gured in \nthe system, this value will be 0.   That would indicate a newly \ndiscovered or rogue endpoint.\"  \n}, \n{ \n\"name\":\"ConfEndpointName\",  \n\"type\":\"string\",  \n\"description\":\"If  this endpoint is configured, this is the \nconfigured endpoint name.   In case of endpoints which are not \nconfiured in the system, this value will be blank.   That would \nindicate a newly discovered or rogue endpoint.\"  \n}, \n{ \n\"name\":\"ConfPortIfIndex\",  \n\"type\":\"vt ss_ifindex_t\",  \n\"description\":\"G.hn port index on which this endpoint is \nassigned. 0 means not assigned to any port.\"  \n}, \n{ \n\"name\":\"ConfAutoPort\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Indicates if the endpoint gets assigned to the \nfirst port where it is disc overed.\"  \n}, \n{ \n\"name\":\"DetectedPortIfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"G.hn port index on which this endpoint is \ndetected. 0 means not detected on any port.\"  \n}, \n{ \n\n--- Page 45 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  45 Document 180 -0214-001 R0 3 \"name\":\"ConfUserId\",  \n\"type\":\"uint32_t\",  \n\"description\":\"If this endpoint is confi gured, this is the \nsubscriber ID that this endpoint is associated with. 0 means not \nassigned to any subscriber.\"  \n}, \n{ \n\"name\":\"ConfUserName\",  \n\"type\":\"string\",  \n\"description\":\"If  this endpoint is configured, this is the \nsubscriber name that this endpoint is associated with.\"  \n}, \n{ \n\"name\":\"ConfUserUid\",  \n\"type\":\"uint32_t\",  \n\"description\":\"Id uniquely identifying the subscriber onto which \nthis endpoint is assigned. Not persistent acros s reboot\"  \n}, \n{ \n\"name\":\"ConfBwProfileId\",  \n\"type\":\"uint32_t\",  \n\"description\":\"G.hn bandwidth profile instance number on which \nthis endpoint is assigned. That is, the bandwidth profile \ninstance number which is assigned to the subscriber to which this \nendpoint is currently assigned to. If this endpoint is not \nassigned to any subscriber, then usually the default bandwidth \nprofile will be assigned to this endpoint. 0 means no bandwidth \nprofile assigned (i.e. unthrottled).\"  \n}, \n{ \n\"name\":\"ConfBwProfileName\",  \n\"type\":\" string\",  \n\"description\":\"Name of the G.hn bandwidth profile on which this \nendpoint is assigned. That is, the bandwidth profile which is \nassigned to the subscriber to which this endpoint is currently \nassigned to. If this endpoint is not assigned to any subsc riber, \nthen usually the default bandwidth profile will be assigned to \nthis endpoint.\"  \n}, \n{ \n\"name\":\"ConfBwProfileUid\",  \n\"type\":\"uint32_t\",  \n\n--- Page 46 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  46 Document 180 -0214-001 R0 3 \"description\":\"Id uniquely identifying the bandwidth profile. Not \npersistent across reboot\"  \n}, \n{ \n\"name\":\"State\",  \n\"type\":\"vtss_appl_ghn_agent_endpoint_state_t\",  \n\"description\":\"Indicates the endpoint state.\"  \n}, \n{ \n\"name\":\"ModelType\",  \n\"type\":\"vtss_appl_ghn_agent_cpe_model_type_t\",  \n\"description\":\"Endpoint  model type.   Available only when endpoint \nis detected.\"  \n}, \n{ \n\"name\":\"ModelString\",  \n\"type\":\"string\",  \n\"description\":\"Endpoint model string.   Available only when \nendpoint is detected.\"  \n}, \n{ \n\"name\":\"FwMismatch\",  \n\"type\":\"vtss_bool_t\",  \n\"description\":\"Indicates if endpoint is in firmware \nmismatch.   Available only when endpoint is detected.\"  \n} \n] \n} \nUse the ghnAgent.status.endpointByMac.brief.get  method below to get the list of all Endpoint \ndevice(s) known by the GAM with their detailed information, including their state  to determine \nwhether they are authorized on the GAM or not.   You can specify a MAC address if you want to \nretrieve information about a specific Endpoint.  Otherwise, leave the params field empty to \nretrieve all the Endpoint devices known to the GAM.  \n{ \n\"method-name\":\"ghnAgent.status.endpointByMac.brief.get\",  \n\"group-name\":\"ghnAgent.status.endpointByMac.brief\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"STATUS_RO\"},  \n\"params\":[  \n{ \n\"name\":\"mac\",  \n\"type\":\"mesa_mac_t\"  \n} \n\n--- Page 47 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  47 Document 180 -0214-001 R0 3 ], \n\"result\":[  \n{ \n\"name\":\"status\",  \n\"type\":\"vtss_appl_ghn_agent_endpoint_brief_status_t\"  \n} \n] \n} \n3.7 PORT METHODS  \nUse the following JSON -RPC Me thods to create, query, modify and delete Port(s) settings \nfor the GAM.  \nThese methods operate on the vtss_appl_ghn_agent_port_config_t  JSON object:  \n{ \n\"type-name\":\"vtss_appl_ghn_agent_port_config_t\",  \n\"class\":\"Struct\",  \n\"description\":\"\",  \n\"encoding -type\":\"Object\",  \n\"elements\":[  \n{ \n\"name\":\"IfIndex\",  \n\"type\":\"vtss_ifindex_t\",  \n\"description\":\"Logical interface number.\"  \n}, \n{ \n\"name\":\"Name\",  \n\"type\":\"string\",  \n\"description\":\"User -configurable name\"  \n}, \n{ \n\"name\":\"MacAddress\",  \n\"type\":\"mesa_mac_t\",  \n\"description\":\"G.hn local port MAC address.\"  \n}, \n{ \n\"name\":\"PortMode\",  \n\"type\":\"vtss_appl_ghn_agent_port_mode_t\",  \n\"description\":\"G.hn port mode.\"  \n}, \n{ \n\"name\":\"PortRole\",  \n\"type\":\"vtss_appl_ghn_agent_node_mode_t\",  \n\"description\":\"G.hn port role.\"  \n}, \n{ \n\n--- Page 48 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  48 Document 180 -0214-001 R0 3 \"name\":\"Rfc5517Mode\",  \n\"type\":\"vtss_appl_rfc5517_mode_t\",  \n\"description\":\"G.hn port RFC5517 mode.\"  \n}, \n{ \n\"name\":\"Rfc5517Community\",  \n\"type\":\"uint8_t\",  \n\"description \":\"G.hn port RFC5517 community number.  This \nparameter is effective only when the RFC 5517 mode is set to \n'community'\"  \n}, \n{ \n\"name\":\"AllowedVlans\",  \n\"type\":\"vtss_vid_list_t\",  \n\"description\":\"Allowed VLANs, valid only if RFC 5517 mode is set \nto a promiscuous m ode (uplink or stacking).\"  \n} \n] \n} \n3.7.1  ghnAgent.config.port.get  \nUse this JSON -RPC Me thod to retrieve information about a specific port of the GAM by \nspecifying the port:  \n{ \n\"method-name\":\"ghnAgent.config.port.get\",  \n\"group-name\":\"ghnAgent.config.port\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[  \n{ \n\"name\":\"ifindex\",  \n\"type\":\"vtss_ifindex_t\"  \n} \n], \n\"result\":[  \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_port_config_t\"  \n} \n] \n} \n  \n\n--- Page 49 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  49 Document 180 -0214-001 R0 3 If you omit the params  object, the method will return an array of JSON object of type \nvtss_appl_ghn_agent_port_config_t  \n{ \n\"method-name\":\"ghnAgent.config.port.get\",  \n\"description\":\"This is an overload of ghnAgent.config.port.get  without \nany input parameters. It is used to implement a get -all \nfunctionallity.\",  \n\"group-name\":\"ghnAgent.config.port\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RO\"},  \n\"params\":[],  \n\"result\":[  \n{ \n\"name\":\"res\",  \n\"type\":{  \n\"class\": \"Array\",  \n\"encoding -type\": \"Array\",  \n\"type\":{  \n\"class\": \"Struct\",  \n\"encoding -type\": \"Object\",  \n\"elements\":[  \n{ \n\"name\":\"key\",  \n\"semantic -name\":\"ifindex\",  \n\"type\":\"vtss_ifindex_t\"  \n}, \n{ \n\"name\":\"val\",  \n\"semantic -name\":\"config\",  \n\"type\":\" vtss_appl_ghn_agent_port_config_t\"  \n} \n] \n} \n} \n} \n] \n} \n3.7.2  ghnAgent.config.port.set  \nUse this method to modify an existing Port by specifying its port index:  \n{ \n\"method-name\":\"ghnAgent.config.port.set\",  \n\"group-name\":\"ghnAgent.config.port\",  \n\"web-privilege\":{\"id\":\"GhnAgent\", \"type\":\"CONFIG_RW\"},  \n\"params\":[  \n{ \n\n--- Page 50 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  50 Document 180 -0214-001 R0 3 \"name\":\"ifindex\",  \n\"type\":\"vtss_ifindex_t\"  \n}, \n{ \n\"name\":\"config\",  \n\"type\":\"vtss_appl_ghn_agent_port_config_t\"  \n} \n], \n\"result\":[]  \n} \n3.8 JSON -RPC  API ERROR MESSAGES  \nWhen a JSON -RPC method call encounters an error, the Response Object MUST \ncontain the error member with a value that is a n Object with the following members:  \n• Code: A Number that indicates the error type that occurred.   This MUST be an \ninteger.  \n• Message : A String p roviding a short description of the error.  \nThe message SHOULD be limited to a concise single sentence.  \n• Data: A Primitive or Structured value that contains additional information about the \nerror.  This may be omitted.  The value of this member is defined by  the JSPN -RPC \nServer (e.g. detailed error information, nested errors etc.).  \nFor instance, the following error defined in the JSON -RPC contract file: \n{ \n\"vtss-error-code\":-9437162,  \n“vtss-module-code”:-22, \n“vtss-message”:\"Invalid  G.hn bandwidth profile name\"  \n}, \nWould be reported as follows:  \n{ \n\"id\": \"1\",  \n\"result\": null,  \n\"error\": {  \n\"code\": -32603, \n\"message\": \"Invalid G.hn bandwidth profile name\",  \n\"data\": {  \n\"vtss-error-code\": -9437162, \n\"vtss-failing-function -ptr\": 67234856,  \n\"vtss-failing-module\": 143,  \n\"vtss-module-code\": -22 \n} \n} \n} \n"
    },
    {
      "chunk_id": 6,
      "pages": "51-60",
      "content": "--- Page 51 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  51 Document 180 -0214-001 R0 3 NOTE: The error codes from and including -32768 to -32000 are reserved for pre -defined \nerrors. Any code within this range, but not defined explicitly below is reserved for future \nuse. The error codes are nearly the same as those suggested for XML -RPC at the \nfollowing url: http://xmlrpc -epi.sourceforge.net/specs/rfc.fault_codes.php  \ncode  message  meaning  \n-32700  Parse error  Invalid JSON -RPC method  was received by the \nserver.  \nAn error occurred on the server while parsing the \nJSON -RPC  text. \n-32600  Invalid \nRequest  The JSON -RPC  sent is not a valid Request object.  \n-32601  Method not \nfound  The method does not exist / i s not available.  \n-32602  Invalid params  Invalid method parameter(s).  \n-32603  Internal error  Internal JSON -RPC error.  \n-32000 to -\n32099  Server error  Reserved for implementation -defined server -errors.  \nThe JSON -RPC Me thod will return Error Messages to report any issues that prevented \nthe JSON -RPC Me thod from completing successfully.  The currently used Error \nMessages are:  \n{ \n\"vtss-module-name\":\"GhnAgent\",  \n\"vtss-module-id\":143,  \n\"vtss-error-codes\":[ \n{ \n\"vtss-error-code\":-9437183,  \n“vtss-module-code”:-1, \n“vtss-message”:\"G.hn generic error\"  \n}, \n{ \n\"vtss-error-code\":-9437182,  \n“vtss-module-code”:-2, \n“vtss-message”:\"G.hn internal error\"  \n}, \n{ \n\"vtss-error-code\":-9437181,  \n“vtss-module-code”:-3, \n“vtss-message”:\"G.hn function not implemented\"  \n}, \n{ \n\n--- Page 52 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  52 Document 180 -0214-001 R0 3 \"vtss-error-code\":-9437180,  \n“vtss-module-code”:-4, \n“vtss-message”:\"Invalid G.hn port or endpoint\"  \n}, \n{ \n\"vtss-error-code\":-9437179,  \n“vtss-module-code”:-5, \n“vtss-message”:\"Invalid  G.hn port\"  \n}, \n{ \n\"vtss-error-code\":-9437178,  \n“vtss-module-code”:-6, \n“vtss-message”:\"Invalid G.hn subscriber\"  \n}, \n{ \n\"vtss-error-code\":-9437177,  \n“vtss-module-code”:-7, \n“vtss-message”:\"Non-existing G.hn subscriber\"  \n}, \n{ \n\"vtss-error-code\":-9437176,  \n“vtss-module-code”:-8, \n“vtss-message”:\"Invalid G.hn endpoint\"  \n}, \n{ \n\"vtss-error-code\":-9437175,  \n“vtss-module-code”:-9, \n“vtss-message”:\"Non-existing G.hn endpoint (no such endpoint \nconfigured)\"  \n}, \n{ \n\"vtss-error-code\":-9437174,  \n“vtss-module-code”:-10, \n“vtss-message”:\"No user for endpoint\"  \n}, \n{ \n\"vtss-error-code\":-9437173,  \n“vtss-module-code”:-11, \n“vtss-message”:\"Endpoint not found on specified port\"  \n}, \n{ \n\"vtss-error-code\":-9437172,  \n“vtss-module-code”:-12, \n“vtss-message”:\"Endpoint not found on any ports\"  \n}, \n{ \n\"vtss-error-code\":-9437171,  \n“vtss-module-code”:-13, \n\n--- Page 53 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  53 Document 180 -0214-001 R0 3 “vtss-message”:\"G.hn endpoint is already assigned to another \nsubscriber\"  \n}, \n{ \n\"vtss-error-code\":-9437170,  \n“vtss-module-code”:-14, \n“vtss-message”:\"G.hn port is already assigned to another \nsubscriber\"  \n}, \n{ \n\"vtss-error-code\":-9437169,  \n“vtss-module-code”:-15, \n“vtss-message”:\"Invalid G.hn subscriber name\"  \n}, \n{ \n\"vtss-error-code\":-9437168,  \n“vtss-module-code”:-16, \n“vtss-message”:\"Non-unique G.hn subscriber name\"  \n}, \n{ \n\"vtss-error-code\":-9437167,  \n“vtss-module-code”:-17, \n“vtss-message”:\"Non-unique G.hn endpoint name\"  \n}, \n{ \n\"vtss-error-code\":-9437166,  \n“vtss-module-code”:-18, \n“vtss-message”:\"Non-unique G.hn bandwidth profile name\"  \n}, \n{ \n\"vtss-error-code\":-9437165,  \n“vtss-module-code”:-19, \n“vtss-message”:\"Non-unique G.hn port name\"  \n}, \n{ \n\"vtss-error-code\":-9437164,  \n“vtss-module-code”:-20, \n“vtss-message”:\"Invalid  G.hn bandwidth profile\"  \n}, \n{ \n\"vtss-error-code\":-9437163,  \n“vtss-module-code”:-21, \n“vtss-message”:\"Non-existing G.hn bandwidth profile\"  \n}, \n{ \n\"vtss-error-code\":-9437162,  \n“vtss-module-code”:-22, \n“vtss-message”:\"Invalid  G.hn bandwidth profile name\"  \n\n--- Page 54 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  54 Document 180 -0214-001 R0 3 }, \n{ \n\"vtss-error-code\":-9437161,  \n“vtss-module-code”:-23, \n“vtss-message”:\"Invalid G.hn bandwidth profile downstream \nbandwidth\"  \n}, \n{ \n\"vtss-error-code\":-9437160,  \n“vtss-module-code”:-24, \n“vtss-message”:\"Invalid G.hn bandwidth profile upstream \nbandwidth\"  \n}, \n{ \n\"vtss-error-code\":-9437159,  \n“vtss-module-code”:-25, \n“vtss-message”:\"Invalid G.hn data VLAN id\"  \n}, \n{ \n\"vtss-error-code\":-9437158,  \n“vtss-module-code”:-26, \n“vtss-message”:\"Invalid  G.hn remapped data VLAN id\"  \n}, \n{ \n\"vtss-error-code\":-9437157,  \n“vtss-module-code”:-27, \n“vtss-message”:\"Invalid G.hn port #2 VLAN id\"  \n}, \n{ \n\"vtss-error-code\":-9437156,  \n“vtss-module-code”:-28, \n“vtss-message”:\"G.hn VLAN cannot be the same as port #2 VLAN id\"  \n}, \n{ \n\"vtss-error-code\":-9437155,  \n“vtss-module-code”:-29, \n“vtss-message”:\"Too many allowed tagged VLAN\"  \n}, \n{ \n\"vtss-error-code\":-9437154,  \n“vtss-module-code”:-30, \n“vtss-message”:\"Invalid G.hn endpoint n ame\" \n}, \n{ \n\"vtss-error-code\":-9437153,  \n“vtss-module-code”:-31, \n“vtss-message”:\"Invalid G.hn endpoint MAC address\"  \n}, \n\n--- Page 55 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  55 Document 180 -0214-001 R0 3 { \n\"vtss-error-code\":-9437152,  \n“vtss-module-code”:-32, \n“vtss-message”:\"Non-unique G.hn endpoint MAC address\"  \n}, \n{ \n\"vtss-error-code\":-9437151,  \n“vtss-module-code”:-33, \n“vtss-message”:\"Maximum number of G.hn endpoint reached for the \nsystem\" \n}, \n{ \n\"vtss-error-code\":-9437150,  \n“vtss-module-code”:-34, \n“vtss-message”:\"Maximum number of G.hn banbdwidth profile reached \nfor the system\"  \n}, \n{ \n\"vtss-error-code\":-9437149,  \n“vtss-module-code”:-35, \n“vtss-message”:\"Maximum number of G.hn subscriber reached for the \nsystem\" \n}, \n{ \n\"vtss-error-code\":-9437148,  \n“vtss-module-code”:-36, \n“vtss-message”:\"Maximum number of G.hn endpoint reached for that \nport\" \n}, \n{ \n\"vtss-error-code\":-9437147,  \n“vtss-module-code”:-37, \n“vtss-message”:\"Invalid G.hn port mode\"  \n}, \n{ \n\"vtss-error-code\":-9437146,  \n“vtss-module-code”:-38, \n“vtss-message”:\"Invalid G.hn port role\"  \n}, \n{ \n\"vtss-error-code\":-9437145,  \n“vtss-module-code”:-39, \n“vtss-message”:\"Invalid G.hn port RFC 5517 mode\"  \n}, \n{ \n\"vtss-error-code\":-9437144,  \n“vtss-module-code”:-40, \n“vtss-message”:\"Invalid  G.hn port RFC 5517 community number\"  \n\n--- Page 56 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  56 Document 180 -0214-001 R0 3 }, \n{ \n\"vtss-error-code\":-9437143,  \n“vtss-module-code”:-41, \n“vtss-message”:\"Invalid NNI port\"  \n}, \n{ \n\"vtss-error-code\":-9437142,  \n“vtss-module-code”:-42, \n“vtss-message”:\"Invalid outer tag VID\"  \n}, \n{ \n\"vtss-error-code\":-9437141,  \n“vtss-module-code”:-43, \n“vtss-message”:\"Specified NNI port is not uplink\"  \n}, \n{ \n\"vtss-error-code\":-9437140,  \n“vtss-module-code”:-44, \n“vtss-message”:\"G.hn bandwidth profile is not supported on this \nplatform yet\"  \n}, \n{ \n\"vtss-error-code\":-9437139,  \n“vtss-module-code”:-45, \n“vtss-message”:\"G.hn endpoint is already configured\"  \n}, \n{ \n\"vtss-error-code\":-9437138,  \n“vtss-module-code”:-46, \n“vtss-message”:\"G.hn bandwidth profile is already configured\"  \n}, \n{ \n\"vtss-error-code\":-9437137,  \n“vtss-module-code”:-47, \n“vtss-message”:\"G.hn subscriber is already configured\"  \n}, \n{ \n\"vtss-error-code\":-9437136,  \n“vtss-module-code”:-48, \n“vtss-message”:\"Invalid G.hn VectorBoost parameter\"  \n}, \n{ \n\"vtss-error-code\":-9437135,  \n“vtss-module-code”:-49, \n“vtss-message”:\"Invalid G.hn powermask notch Id\"  \n}, \n{ \n\n--- Page 57 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  57 Document 180 -0214-001 R0 3 \"vtss-error-code\":-9437134,  \n“vtss-module-code”:-50, \n“vtss-message”:\"Invalid G.hn powermask notch parameter\"  \n}, \n{ \n\"vtss-error-code\":-9437133,  \n“vtss-module-code”:-51, \n“vtss-message”:\"Invalid measurement averaging value\"  \n}, \n{ \n\"vtss-error-code\":-9437132,  \n“vtss-module-code”:-52, \n“vtss-message”:\"Device  not found\"  \n}, \n{ \n\"vtss-error-code\":-9437131,  \n“vtss-module-code”:-53, \n“vtss-message”:\"Error querying G.hn device.  May be missing or \nbusy.\" \n}, \n{ \n\"vtss-error-code\":-9437130,  \n“vtss-module-code”:-54, \n“vtss-message”:\"Error device not in valid state\"  \n}, \n{ \n\"vtss-error-code\":-9437129,  \n“vtss-module-code”:-55, \n“vtss-message”:\"Error device model requiered manual upgrade\"  \n}, \n{ \n\"vtss-error-code\":-9437128,  \n“vtss-module-code”:-56, \n“vtss-message”:\"Auto-endpoint subscriber already assigned to \nanother port\"  \n}, \n{ \n\"vtss-error-code\":-9437127,  \n“vtss-module-code”:-57, \n“vtss-message”:\"Invalid G.hn subscriber model\"  \n} \n] \n} \n \n  \n\n--- Page 58 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  58 Document 180 -0214-001 R0 3  \nChapter 4   \n______________________________________  \nSample  JSON Script – PORT AWARE mode  \n\n--- Page 59 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  59 Document 180 -0214-001 R0 3 4.1 JSON -RPC  API Example: Port -Aware  \nHere is a simple example that illustrates how to create and update bandwidth profile \nsettings as well as subscriber profiles when the GAM is set to operate in the PORT Aware  \nmode.  Other exam ples are available from Positron Access.  \nThe following example uses a simple bash script along with CURL to issue a sequence \nof JSON -RPC method commands.  \n#!/bin/bash  \n \n# example: SERVER=192.168.1.1 PORT=80 USERNAME=admin PASSWORD=\"\" ./example -\nport-aware-double-tag-by-name-1.4-21270.sh  \n \nUSERNAME=${USERNAME: -admin} \nPASSWORD=${PASSWORD: -\"\"} \nSERVER=${SERVER: -192.168.100.65}  \nPORT=${PORT: -80} \n \n# Remarks:  \n# ------- \n# \n# - All API types/methods are specified in inventory -r21156.json - this file \ncan be retrieved from a running firmware using the following command:  \n#   curl --verbose http://${USERNAME}:${PASSWORD}@${SERVER}:${PORT}/json_rpc \n-s -d '{\"method\":\"jsonRpc.status.introspection.generic.inventory.get\",  \n\"params\":[\"\"],\"id\":\"1\"}'  \n# \n# - All commands will return an  JSON object the form: \n{\"id\":\"?\",\"error\":?,\"result\":?}. The id will always have a value, result may \nbe null if error is not, error  \n#   may be null if the result was not, and both error/result can be null, \ni.e. in the case of a configuration comma nd with a 'set' semantic.  \n# \n# - For accessing the specification of a specific method, i.e. \nghnAgent.config.userByName.set, one should look for \"method -\nname\":\"ghnAgent.config.userByName.set\" in the JSON contract specification \nfile. \n# \n# - The GAM does not re ally care about the id provided in a command and will \nreturn the once it received in its response.  \n#   It is highly recommended than a different id would be used for every \nrequest in order to allow proper testing/debugging.  \n# \n \n# Check requirements  \n# curl \n\n--- Page 60 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  60 Document 180 -0214-001 R0 3 command -v curl >/dev/null 2>&1  \nif [[ $? -ne 0 ]]; then  \n    echo \"curl is not installed.  Aborting.\"  \n    echo \"Common ways to install curl:\"  \n    echo \"- Ubuntu : sudo apt install curl\"  \n    echo \"- Fedora : sudo yum install curl\"  \n    echo \"- CentOS : sudo d nf install curl\"  \n    exit 1 \nfi \n \n# json_reformat  \ncommand -v json_reformat >/dev/null 2>&1  \nif [[ $? -ne 0 ]]; then  \n    echo \"json_reformat is not installed.  Aborting.\"  \n    echo \"Common ways to install json_reformat:\"  \n    echo \"- Ubuntu : sudo apt install yajl -tools\" \n    echo \"- Fedora : sudo yum install yajl\"  \n    echo \"- CentOS : sudo dnf install yajl\"  \n    exit 1 \nfi \n \ndo_command()  \n{ \n    prompt=$1  \n    method=$2  \n    param=$3  \n \n    json_command=\"{ \\\"method\\\":\\\"$method \\\", \\\"id\\\":\"$((ID++))\", \n\\\"params\\\":\"$param\", \\\"jsonrpc \\\":\\\"2.0\\\"}\" \n \n    if [[ -n \"$1\" ]]; then  \n        echo \"----------  $1 - press Enter to continue or CTRL+C for \nterminating. ---------- \" \n        read line  \n \n        printf \"SEND: \\n\" \n        printf \"%s \\n\" \"$json_co mmand\" | json_reformat  \n        printf \" \\n\" \n        printf \"RECEIVE: \\n\" \n        curl http://${USERNAME}:${PASSWORD}@${SERVER}:${PORT}/json_rpc -s -d \n\"$json_command\" | json_reformat  \n        printf \" \\n\" \n    else \n        curl http://${USERNAME}:${PASSWORD}@${SERVER}:${PORT}/json_rpc -s -d \n\"$json_command\" >/dev/null 2>&1  \n    fi \n} \n \n"
    },
    {
      "chunk_id": 7,
      "pages": "61-66",
      "content": "--- Page 61 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  61 Document 180 -0214-001 R0 3 clear \n \nID=1 \n \n#--- \n \nprintf \"======================= \\n\" \nprintf \"SWITCHING TO PORT -AWARE\\n\" \nprintf \"======================= \\n\" \nprintf \" \\n\" \n \ndo_command 'Retrieve global configs'    \\ \n           'ghnAgent.config.global.get' \\ \n           '[]' \n \ndo_command 'Set subscriber model to port -aware' \\ \n           'ghnAgent.config.global.set'         \\ \n           '[{\"SubscriberModel\":\"portAware\"}]'  \n \ndo_command 'Retrieve global configs'    \\ \n           'ghnAgent.config.global.get' \\ \n           '[]' \n \n#--- \n \nprintf \"============================ \\n\" \nprintf \"BANDWIDTH PLAN CONFIGURATION \\n\" \nprintf \"============================ \\n\" \nprintf \" \\n\" \n \ndo_command 'Retrieve all configured bw profile.' \\ \n           'ghnAgent.config.bwProfileByName.get'       \\ \n           '[]' \n \ndo_command 'Edit default bw profile'       \\ \n           'ghnAgent.config.bwProfileBy Name.set' \\ \n           '[\"Default BW Profile\",{\"DsBw\":50,\"UsBw\":5}]'  \n \ndo_command 'Retrieve all configured bw profile.' \\ \n           'ghnAgent.config.bwProfileByName.get'       \\ \n           '[]' \n \ndo_command 'Add bw profile'                \\ \n           'ghnAgent.config.bwProfileByName.add' \\ \n           '[\"BW profile 1\",{\"Description\":\"Example bw profile \n#1\",\"DsBw\":500,\"UsBw\":50}]'  \n \ndo_command 'Retrieve all configured bw profile.' \\ \n\n--- Page 62 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  62 Document 180 -0214-001 R0 3            'ghnAgent.config.bwProfileByName.get'       \\ \n           '[]' \n \n#--- \n \nprintf \"======================== \\n\" \nprintf \"SUBSCRIBER CONFIGURATION \\n\" \nprintf \"======================== \\n\" \nprintf \" \\n\" \n \ndo_command 'Retrieve all configured subscribers.' \\ \n           'ghnAgent.config.userByName.get'             \\ \n           '[]' \n \ndo_command 'Add subscriber #1, on port #1 and with default bw profile, VLAN \nID 101' \\ \n           'ghnAgent.config.userByName.add'                                               \n\\ \n           '[\"Subscriber 1\",{\"Description\":\"Example subscribe r \n#1\",\"PortIfIndex\":\"G.hn 1/1\",\"BwProfileId\":1,\"VlanId\":101}]'  \n \ndo_command 'Retrieve all configured subscribers.' \\ \n           'ghnAgent.config.userByName.get'             \\ \n           '[]' \n \ndo_command 'Add subscriber #2, on port #2, with the bw profile we  added \nabove, Outer VLAN ID 2800, VLAN ID 1111, REMAP 201 and extra allowed vlan \n301, 302 and 310.' \\ \n           'ghnAgent.config.userByName.add'                                                                                                         \n\\ \n           '[\"Subscriber 2\",{\"Description\":\"Example subscriber \n#2\",\"PortIfIndex\":\"G.hn \n1/2\",\"BwProfileId\":2,\"DoubleTags\":true,\"OuterTagVlanId\":2800,\"VlanId\":1111,\"V\nlanIsTagged\": true,\"RemappedVlanId\": \n201,\"AllowedTaggedVlans\":[301,302,310]}]'  \n \ndo_command 'Retr ieve all configured subscribers.' \\ \n           'ghnAgent.config.userByName.get'             \\ \n           '[]' \n \ndo_command 'Add subscriber #3, on port #3, with the default bw profile, Outer \nVLAN ID 30 (to uplink port 10G 1/2), VLAN ID 301.' \\ \n           'ghnAgent.config.userByName.add'                                                                                                         \n\\ \n           '[\"Subscriber 3\",{\"Description\":\"Example subscriber \n#3\",\"PortIfIndex\":\"G.hn \n1/3\",\"BwProfileId\": 1,\"DoubleTags\":true,\"NNIIfIndex\":\"10G \n1/2\",\"OuterTagVlanId\":30,\"VlanId\":301}]'  \n\n--- Page 63 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  63 Document 180 -0214-001 R0 3  \ndo_command 'Retrieve all configured subscribers.' \\ \n           'ghnAgent.config.userByName.get'             \\ \n           '[]' \n \n#--- \n \nprintf \"==================== \\n\" \nprintf \"GLO BAL CONFIGURATION \\n\" \nprintf \"==================== \\n\" \nprintf \" \\n\" \n \ndo_command 'Retrieve global configuration.' \\ \n           'ghnAgent.config.global.get'     \\ \n           '[]' \n \ndo_command 'Change default uplink port to 10G 1/2.' \\ \n           'ghnAgent.config .global.set'             \\ \n           '[{\"DefaultNNIIfIndex\":\"10G 1/2\"}]'  \n \ndo_command 'Retrieve global configuration.' \\ \n           'ghnAgent.config.global.get'     \\ \n           '[]' \n \n#--- \n \nprintf \"================== \\n\" \nprintf \"SAVE CONFIGURATION \\n\" \nprintf \"================== \\n\" \nprintf \" \\n\" \n \n# Important: this command will make your changes persistent.  \ndo_command 'Persist configuration changes (copy running -config startup -\nconfig).' \\ \n           'icfg.control.copy.set'                                               \n\\ \n           '[{ \"Copy\": true, \"SourceConfigType\": \"runningConfig\", \n\"SourceConfigFile\": \"runningConfig\", \"DestinationConfigType\": \n\"startupConfig\", \"DestinationConfigFile\": \"startupConfig\", \"Merge\": false }]'  \n \n#--- \n \nprintf \"==== \\n\" \nprintf \"DONE \\n\" \nprintf \"==== \\n\" \nprintf \" \\n\" \n \nprintf \"PRESS ENTER TO CLEANUP... \\n\" \n\n--- Page 64 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  64 Document 180 -0214-001 R0 3 read line  \nprintf \"Cleaning up... \\n\" \n \nID=1000 \n \ndo_command '' 'ghnAgent.config.global.set' '[{\"DefaultNNIIfIndex\":\"10G \n1/1\"}]' \ndo_command '' 'ghnAgent.config.us erByName.del' '[\"Subscriber 1\"]'  \ndo_command '' 'ghnAgent.config.userByName.del' '[\"Subscriber 2\"]'  \ndo_command '' 'ghnAgent.config.userByName.del' '[\"Subscriber 3\"]'  \ndo_command '' 'ghnAgent.config.bwProfileByName.set' '[\"Default BW \nProfile\",{\"DsBw\":10,\"UsBw\":10}]'  \ndo_command '' 'ghnAgent.config.bwProfileByName.del' '[\"BW profile 1\"]'  \ndo_command '' 'ghnAgent.config.global.set' \n'[{\"SubscriberModel\":\"endpointAware\"}]'  \n# In case some endpoints got auto -assigned...  \ndo_command '' 'ghnAgent .config.endpoint.del' '[1]'  \ndo_command '' 'ghnAgent.config.endpoint.del' '[2]'  \ndo_command '' 'ghnAgent.config.endpoint.del' '[3]'  \ndo_command '' 'icfg.control.copy.set' '[{ \"Copy\": true, \"SourceConfigType\": \n\"runningConfig\", \"SourceConfigFile\": \"runningConfi g\", \n\"DestinationConfigType\": \"startupConfig\", \"DestinationConfigFile\": \n\"startupConfig\", \"Merge\": false }]'  \n \n  \n\n--- Page 65 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  65 Document 180 -0214-001 R0 3 Chapter 5   \n______________________________________  \nWarranty and Customer Service  \n\n--- Page 66 ---\nOverview of JSON -RPC  API for GAM\n \n \nPositron Access Solutions  66 Document 180 -0214-001 R0 3 Positron Access Solutions will replace or repair this product within the warranty \nperiod if it does not meet its published specifications or fails while in service. \nWarranty information can be found in your Positron Access customer web portal: \nhttp://www.positronaccess.com/Portal.php  \n \nPositron Access Solutions Sales Pricing/Availability and Technical Support  \nUS and Canada: 1 -888-577-5254  \nInternational: +1 -514-345-2220  \ncustomerservice@positronaccess.com   \n \nRepair and Return Address  \nContact Customer Service prior to returning equipment to Positron.  \nTelephone US and Canada: 1 -888-577-5254 option 6  \nInternational: +1 -514-345-2220 option 6  \n"
    }
  ]
}